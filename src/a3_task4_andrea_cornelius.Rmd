---
title: "TASK 4: Naples Reef (2010) purple urchins (CORNELIUS)"
author: "Andrea Cornelius"
date: "10/23/2021"
output: html_document
---
# Overview

**Data citation**: Reed, D. 2020. SBC LTER: Reef: Long-term experiment: Kelp removal: Urchin size frequency distribution ver 20. Environmental Data Initiative. (https://doi.org/10.6073/pasta/5a1e9ef03aa47bd2225c0bb98a02a63b) 

# Setup
```{r setup, include = TRUE, message = FALSE, warning = FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)
library(tidyverse)
library(janitor)
library(here)
library(lubridate)
```

# Read in the data
```{r}
read_csv(here("data", "urchins.csv"))
```

# Compare the mean size of purple urchins in CONTROL (no giant kelp removal) to ANNUAL (annual kelp removal) sections of Naples Reef in 2010.

```{r}
# Change column names to lower_snake_case
urchins_clean <- urchins %>%
clean_names()
```

```{r}
# Date classification
date <- as.Date("2008-10-10") # Classify date

date

class(date) # Check the class
```

 Hint: convert date to "Date" class with lubridate, then use the `year()` functions to add a new columns for year that you can use as variable for filtering. 
```{r}
naples_purple_2010 <- urchins_clean %>% # Pull from clean urchins data
  filter(common_name == "Purple Urchin") %>% # Filter by purple urchin
  mutate(date_new = mdy(date)) %>% # Convert class to date
  mutate(year_new = year(date_new)) %>% # Convert new column that only contains year
  filter(year_new == "2010")
```

